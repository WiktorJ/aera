<mujoco model="ar4_mk3">
    <compiler angle="radian" autolimits="true"/>
    <option timestep="0.002" integrator="implicitfast">
        <flag contact="enable" multiccd="enable"/>
    </option>
    <!-- <statistic meansize="0.116999" extent="0.779996" center="0.0273132 -0.0950417 0.259419"/> -->
    <asset>
        <material name="white" rgba="1 1 1 1"/>
        <material name="red" rgba="1 0 0 1"/>
        <material name="blue" rgba="0 0 1 1"/>
        <material name="gray" rgba="0.753 0.753 0.753 1"/>
        <material name="transparent" rgba="0 0 0 0"/>
        <material name="base_link_mat" rgba="1 1 1 1"/>
        <material name="link_1_mat" rgba="1 1 1 1"/>
        <material name="link_2_mat" rgba="1 1 1 1"/>
        <material name="link_3_mat" rgba="1 1 1 1"/>
        <material name="link_4_mat" rgba="1 1 1 1"/>
        <material name="link_5_mat" rgba="1 1 1 1"/>
        <material name="link_6_mat" rgba="1 1 1 1"/>
        <material name="gripper_base_link_mat" rgba="1 1 1 1"/>
        <material name="gripper_jaw1_mat" rgba="0.149 0.149 0.149 1"/>
        <material name="gripper_jaw2_mat" rgba="0.149 0.149 0.149 1"/>
        <material name="block_mat" specular="0" shininess="0.5" reflectance="0" rgba="0.2 0.2 0.2 1"></material>
        <material name="target_mat" specular="0" shininess="0.5" reflectance="0" rgba="1 0 0 0.5"/>
        <material name="distractor1_mat" specular="0" shininess="0.5" reflectance="0" rgba="0 1 0 0.5"/>
        <material name="distractor2_mat" specular="0" shininess="0.5" reflectance="0" rgba="0 0 1 0.5"/>
        <material name="object_distractor1_mat" specular="0" shininess="0.5" reflectance="0" rgba="0 1 0 1"/>
        <material name="object_distractor2_mat" specular="0" shininess="0.5" reflectance="0" rgba="0 0 1 1"/>

        <mesh name="base_link" file="assets/base_link.STL"/>
        <mesh name="link_1" file="assets/link_1.STL"/>
        <mesh name="link_2" file="assets/link_2.STL"/>
        <mesh name="link_3" file="assets/link_3.STL"/>
        <mesh name="link_4" file="assets/link_4.STL"/>
        <mesh name="link_5" file="assets/link_5.STL"/>
        <mesh name="link_6" file="assets/link_6.STL"/>
        <mesh name="gripper_base_link" file="assets/gripper_base_link.stl"/>
        <mesh name="gripper_jaw1_link" file="assets/gripper_jaw1_link.stl"/>
        <mesh name="gripper_jaw2_link" file="assets/gripper_jaw2_link.stl"/>
    </asset>

    <default>
        <default class="ar4_mk3">
            <material specular="0.5" shininess="0.25"/>
            <joint axis="0 1 0" range="-6.28319 6.28319" armature="0.1"/>
            <position ctrlrange="-6.2831 6.2831"/>
            <general biastype="affine" ctrlrange="-6.2831 6.2831" gainprm="1000" biasprm="0 -1000 -100"/>
            <default class="size5">
                <joint damping="0"/>
                <general forcerange="-330 330" gainprm="0"/>
            </default>
            <default class="size4">
                <joint damping="20"/>
                <general forcerange="-330 330" gainprm="0"/>
            </default>
            <default class="size3">
                <joint damping="10"/>
                <general forcerange="-150 150" gainprm="0"/>
            </default>
            <default class="size2">
                <joint damping="4"/>
                <general forcerange="-56 56" gainprm="0"/>
            </default>
            <default class="size1">
                <joint damping="10"/>
                <general forcerange="-56 56" gainprm="50" biasprm="0 -50 -5" ctrlrange="-0.014 0"/>
            </default>
            <default class="visual">
                <geom type="mesh" contype="0" conaffinity="0" group="2"/>
            </default>
            <default class="collision">
                <geom type="capsule" group="3"/>
                <default class="eef_collision">
                    <geom type="cylinder"/>
                </default>
            </default>
            <default class="position">
              <position kp="20000" kv="150" forcerange="-1000 1000"/>
              <default class="position3">
                <position kp="5000" kv="30" forcerange="-200 200"/>
              </default>
            </default>
        </default>
    </default>

    <worldbody>
        <light name="top" pos="0 0 2" mode="trackcom" diffuse="0 0 0"/>
        <body name="target_visual_body" pos="0.2 0.2 0">
            <geom name="target_visual" type="box" size="0.025 0.025 0.001" pos="0 0 0.0" material="target_mat" contype="0" conaffinity="0" group="2"/>
        </body>
        <body name="target_distractor1_visual_body" pos="0.3 0.3 0">
            <geom name="distractor1_visual" type="box" size="0.025 0.025 0.001" pos="0 0 0.0" material="distractor1_mat" contype="0" conaffinity="0" group="2"/>
        </body>
        <body name="target_distractor2_visual_body" pos="0.4 0.4 0">
            <geom name="distractor2_visual" type="box" size="0.025 0.025 0.001" pos="0 0 0.0" material="distractor2_mat" contype="0" conaffinity="0" group="2"/>
        </body>
        <site name="target0" pos="0.2 0.2 0" size="0.005" rgba="0 0 0 0" type="sphere"/>
        <body name="object0" pos="-0.15 -0.3 0.2">
          <joint name="object0:joint" type="free" damping="0.01"></joint>
          <geom size="0.012 0.012 0.012" type="box" condim="3" name="object0" material="gray" mass="0.1"
            friction="2.0 0.01 0.01" contype="1" conaffinity="1" solref="0.002 1" solimp="0.99 0.99 0.001 0.5 2"/>
          <site name="object0" pos="0 0 0" size="0.002 0.002 0.002" rgba="1 0 0 1" type="sphere"></site>
        </body>
        <body name="object_distractor1" pos="-0.15 -0.3 0.2">
          <joint name="object_distractor1:joint" type="free" damping="0.01"></joint>
          <geom size="0.012 0.012 0.012" type="box" condim="3" name="object_distractor1" material="object_distractor1_mat" mass="0.1"
            friction="2.0 0.01 0.01" contype="1" conaffinity="1" solref="0.002 1" solimp="0.99 0.99 0.001 0.5 2"/>
          <site name="object_distractor1" pos="0 0 0" size="0.002 0.002 0.002" rgba="0 1 0 1" type="sphere"></site>
        </body>
        <body name="object_distractor2" pos="-0.15 -0.3 0.2">
          <joint name="object_distractor2:joint" type="free" damping="0.01"></joint>
          <geom size="0.012 0.012 0.012" type="box" condim="3" name="object_distractor2" material="object_distractor2_mat" mass="0.1"
            friction="2.0 0.01 0.01" contype="1" conaffinity="1" solref="0.002 1" solimp="0.99 0.99 0.001 0.5 2"/>
          <site name="object_distractor2" pos="0 0 0" size="0.002 0.002 0.002" rgba="0 0 1 1" type="sphere"></site>
        </body>
        <body name="base_link" childclass="ar4_mk3">
      		  <joint armature="0.0001" axis="1 0 0" damping="1e+11" name="robot0:slide0" pos="0 0 0" type="slide"></joint>
           	<joint armature="0.0001" axis="0 1 0" damping="1e+11" name="robot0:slide1" pos="0 0 0" type="slide"></joint>
		        <joint armature="0.0001" axis="0 0 1" damping="1e+11" name="robot0:slide2" pos="0 0 0" type="slide"></joint>
            <inertial mass="0.7102" pos="-4.6941E-06 0.054174 0.038824" diaginertia="0.0039943 0.0014946 0.0042554"/>
            <geom type="mesh" mesh="base_link" contype="0" conaffinity="0" material="base_link_mat"/>
            <body name="link_1" pos="0 0 0" quat="0 1 0 0">
                <inertial pos="-0.022706 0.04294 -0.12205" quat="0.605544 0.332827 -0.00148159 0.722869" mass="0.88065"
                          diaginertia="0.00475513 0.00393687 0.0015935"/>
                <joint name="joint_1" pos="0 0 0" axis="0 0 1" range="-2.96706 2.96706" class="size5"/>
                <geom type="mesh" mesh="link_1" material="link_1_mat"/>
                <body name="link_2" pos="0 0.064146 -0.16608" quat="0.353551 0.612373 -0.353555 -0.612373">
                    <inertial pos="0.064818 -0.11189 -0.038671" quat="0.637507 0.725997 0.196395 0.167158"
                              mass="0.57738"
                              diaginertia="0.00602866 0.00569905 0.000699994"/>
                    <joint name="joint_2" pos="0 0 0" axis="0 0 -1" range="-0.733038 1.5708" class="size4"/>
                    <geom type="mesh" mesh="link_2" material="link_2_mat"/>
                    <body name="link_3" pos="0.1525 -0.26414 0" quat="0.258821 0 0 -0.965925">
                        <inertial pos="-0.00029765 -0.023661 -0.0019125" quat="0.624233 0.264737 -0.541021 0.497538"
                                  mass="0.1787" diaginertia="0.000217382 0.00018094 0.000106269"/>
                        <joint name="joint_3" pos="0 0 0" axis="0 0 -1" range="-1.55334 0.907571" class="size3"/>
                        <geom type="mesh" mesh="link_3" material="link_3_mat"/>
                        <body name="link_4" pos="0 0 0.00675" quat="0.698332 0.111048 -0.698333 -0.111048">
                            <inertial pos="-0.0016798 -0.00057319 -0.074404"
                                      quat="0.585577 0.00762899 0.0105954 0.810512"
                                      mass="0.34936" diaginertia="0.00310946 0.00304897 0.000220712"/>
                            <joint name="joint_4" pos="0 0 0" axis="0 0 -1" range="-2.87979 2.87979" class="size2"/>
                            <geom type="mesh" mesh="link_4" material="link_4_mat"/>
                            <body name="link_5" pos="0 0 -0.22225" quat="0 0.157044 -0.987592 0">
                                <inertial pos="0.0015066 -1.3102e-05 -0.012585" quat="0.6792 0.196164 0.195898 0.679581"
                                          mass="0.11562" diaginertia="8.2921e-05 5.66869e-05 5.0866e-05"/>
                                <joint name="joint_5" pos="0 0 0" axis="1 0 0" range="-1.8326 1.8326" class="size2"/>
                                <geom type="mesh" mesh="link_5" material="link_5_mat"/>
                                <body name="link_6" pos="-0.000294 0 0.02117" quat="-3.67321e-06 0 0 1">
                                    <inertial pos="-0.000627476 -0.00371003 0.0349431"
                                              quat="0.447528 0.54346 0.472296 0.530383" mass="0.093863"
                                              diaginertia="5.53791e-05 4.32053e-05 3.61482e-05"/>
                                    <joint name="joint_6" pos="0 0 0" axis="0 0 1" range="-2.70526 2.70526"
                                           class="size2"/>
                                    <geom type="mesh" mesh="link_6" material="link_6_mat"/>
                                    <body name="gripper_base_link">
                                        <geom pos="0 0 0.016" quat="0.707105 -0.707108 0 0" type="mesh"
                                              mesh="gripper_base_link" material="gripper_base_link_mat"/>
                                        <body name="gripper_jaw1_link" pos="0 -0.0155 0.052"
                                              quat="0.707105 -0.707108 0 0">
                                            <!-- <inertial diaginertia="0.1 0.1 0.1" mass="1" pos="0 0 0"/> -->
                                            <inertial pos="-0.00435839 -0.00469536 0.00757141"
                                                      quat="0.909592 0.206495 -0.239067 0.269904" mass="0.05"
                                                      diaginertia="1.2974e-06 1.23198e-06 8.70621e-07"/>
                                            <joint name="gripper_jaw1_joint" pos="0 0 0" axis="1 0 0" type="slide"
                        range="-0.014 0" armature="0.1" damping="10" limited="true" solimplimit="0.99 0.999 0.01" solreflimit="0.01 1" frictionloss="0" stiffness="0"/>
                                            <geom type="mesh" mesh="gripper_jaw1_link" material="gripper_jaw1_mat" contype="0" conaffinity="0" group="2"/>
                                            <geom name="gripper_jaw1_contact" size="0.001 0.0115 0.0088" pos="-0.0014 -0.0167 0.0126" 
                                                  type="box" contype="1" conaffinity="1" condim="4" 
                                                  solref="0.002 1" solimp="0.99 0.99 0.001 0.5 2"
                                                  friction="2.0 0.01 0.01" material="transparent"/>
                                        </body>
                                        <body name="gripper_jaw2_link" pos="0 0.0097 0.052"
                                              quat="0 0 -0.707105 0.707108">
                                            <!-- <inertial diaginertia="0.1 0.1 0.1" mass="1" pos="0 0 0"/> -->
                                            <inertial pos="-0.00423971 -0.00491236 0.00814582"
                                                      quat="0.922918 0.214097 -0.253072 0.195807" mass="0.05"
                                                      diaginertia="1.25734e-06 1.16888e-06 8.63781e-07"/>
                                            <joint name="gripper_jaw2_joint" pos="0 0 0" axis="1 0 0" type="slide"
                        range="-0.014 0" armature="0.1" damping="10" limited="true" solimplimit="0.99 0.999 0.01" solreflimit="0.01 1" frictionloss="0" stiffness="0"/>
                                            <geom type="mesh" mesh="gripper_jaw2_link" material="gripper_jaw2_mat" contype="0" conaffinity="0" group="2"/>
                                            <geom name="gripper_jaw2_contact" size="0.001 0.0115 0.0088" pos="-0.0014 -0.0167 0.0126" 
                                                  type="box" contype="1" conaffinity="1" condim="4" 
                                                  solref="0.002 1" solimp="0.99 0.99 0.001 0.5 2"
                                                  friction="1.0 0.01 0.01" material="transparent"/>
                                                  />
                                        </body>
                                        <site name="grip" pos="0 0 0.062" rgba="0 0 0 0" size="0.002" type="sphere"/>
                                    </body>
                                </body>
                            </body>
                        </body>
                    </body>
                </body>
            </body>
        </body>
    </worldbody>

    <actuator>
        <position class="position" name="act1" joint="joint_1" ctrlrange="-2.96706 2.96706"/>
        <position class="position" name="act2" joint="joint_2" ctrlrange="-0.733038 1.5708"/>
        <position class="position" name="act3" joint="joint_3" ctrlrange="-1.55334 0.907571"/>
        <position class="position" name="act4" joint="joint_4" ctrlrange="-2.87979 2.87979"/>
        <position class="position3" name="act5" joint="joint_5" ctrlrange="-1.8326 1.8326"/>
        <position class="position3" name="act6" joint="joint_6" ctrlrange="-2.70526 2.70526"/>
        <position name="act8" joint="gripper_jaw1_joint" kp="5000" ctrlrange="-0.014 0"/>
        <position name="act9" joint="gripper_jaw2_joint" kp="5000" ctrlrange="-0.014 0"/>
    </actuator>


</mujoco>
